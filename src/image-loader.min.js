!function(n,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():n.ImageLoader=t()}(this,function(){"use strict";var f="",r={},u=function(){},c=0;function l(n,t){var e="http"==srcIn.slice(0,4)?n:f+n,o=void 0!==t?t:n.split("/").pop();if(!r[o]){var i=new Image;++c,i.onload=function(){i.onload=null,0==--c&&u()},i.src=e,r[o]=i}}return{load:function(n){return function n(t,e){if("string"==typeof e)l(t+e);else if(Array.isArray(e))for(var o=0;o<e.length;o++)n(t,e[o]);else if("object"==typeof e){var i=Object.keys(e);if(1==i.length&&"string"==typeof i[0]&&"string"==typeof e[i[0]])l(t+i[0],e[i[0]]);else for(var o=0;o<i.length;o++)n(t+i[o],e[i[o]])}}("",n),{then:function(n){"function"==typeof n&&(u=n)}}},onload:function(n){"function"==typeof n&&(u=n)},get:function(n){var t=n.split("/").pop();return r[t]?r[t]:r[n]?r[n]:null},setDirectory:function(n){"string"==typeof n&&(f=n)}}});